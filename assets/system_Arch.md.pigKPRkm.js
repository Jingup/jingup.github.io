import{_ as a,c as s,o as e,a3 as i}from"./chunks/framework.asm4Y-uW.js";const b=JSON.parse('{"title":"Arch","description":"","frontmatter":{},"headers":[],"relativePath":"system/Arch.md","filePath":"system/Arch.md"}'),t={name:"system/Arch.md"},d=i(`<h1 id="arch" tabindex="-1">Arch <a class="header-anchor" href="#arch" aria-label="Permalink to &quot;Arch&quot;">​</a></h1><p><code>待更新...</code></p><h2 id="配置网络" tabindex="-1">配置网络 <a class="header-anchor" href="#配置网络" aria-label="Permalink to &quot;配置网络&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 172.16.1.100/24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ens33</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> via</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 172.16.1.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ens33</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/resolv.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nameserver</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8.8.8.8</span></span></code></pre></div><h2 id="时间同步" tabindex="-1">时间同步 <a class="header-anchor" href="#时间同步" aria-label="Permalink to &quot;时间同步&quot;">​</a></h2><p><code>timedatectl set-ntp true</code></p><h2 id="分区与格式化" tabindex="-1">分区与格式化 <a class="header-anchor" href="#分区与格式化" aria-label="Permalink to &quot;分区与格式化&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fdisk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda</span></span></code></pre></div><table><thead><tr><th>挂载点</th><th>分区</th><th>分区类型</th><th>大小</th></tr></thead><tbody><tr><td>/mnt/boot</td><td>/dev/sda1</td><td>引导分区</td><td>500M</td></tr><tr><td>swap</td><td>/dev/sda2</td><td>交换分区</td><td>512M</td></tr><tr><td>/mnt</td><td>/dev/sda3</td><td>根分区</td><td>剩余空间</td></tr></tbody></table><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkswap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.fat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda1</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">swapon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda2</span></span></code></pre></div><h2 id="设置mirrorlist" tabindex="-1">设置mirrorlist <a class="header-anchor" href="#设置mirrorlist" aria-label="Permalink to &quot;设置mirrorlist&quot;">​</a></h2><p><code>reflector -c China -a 6 --sort rate --save /etc/pacman.d/mirrorlist</code></p><h2 id="安装基本系统" tabindex="-1">安装基本系统 <a class="header-anchor" href="#安装基本系统" aria-label="Permalink to &quot;安装基本系统&quot;">​</a></h2><p><code>pacstrap /mnt base linux linux-firmware vim</code></p><h2 id="生成fstab" tabindex="-1">生成fstab <a class="header-anchor" href="#生成fstab" aria-label="Permalink to &quot;生成fstab&quot;">​</a></h2><p><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></p><h2 id="chroot" tabindex="-1">Chroot <a class="header-anchor" href="#chroot" aria-label="Permalink to &quot;Chroot&quot;">​</a></h2><p><code>arch-chroot /mnt</code></p><h2 id="设置时区" tabindex="-1">设置时区 <a class="header-anchor" href="#设置时区" aria-label="Permalink to &quot;设置时区&quot;">​</a></h2><p><code>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code><br><code>hwclock --systohc</code></p><h2 id="配置系统" tabindex="-1">配置系统 <a class="header-anchor" href="#配置系统" aria-label="Permalink to &quot;配置系统&quot;">​</a></h2><p><code>vim /etc/locale.gen</code><br> zh_CN.UTF-8 UTF-8<br> en_US.UTF-8 UTF-8<br><code>locale-gen</code><br><code>vim /etc/locale.conf</code><br> LANG=en_US.UTF-8<br><code>vim /etc/hostname</code><br> arch<br><code>vim /etc/hosts</code><br> 127.0.0.1 localhost arch<br><code>passwd</code><br> smile</p><h2 id="创建启动器" tabindex="-1">创建启动器 <a class="header-anchor" href="#创建启动器" aria-label="Permalink to &quot;创建启动器&quot;">​</a></h2><p><code>pacman -S grub efibootmgr networkmanager network-manager-applet dialog wireless_tools wpa_supplicant os-prober mtools dosfstools ntfs-3g base-devel linux-headers reflector git sudo amd-ucode</code><br><code>vim /etc/default/grub</code><br> GRUB_DISABLE_OS_PROBER=false<br><code>grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Arch</code><br><code>grub-mkconfig -o /boot/grub/grub.cfg</code></p><h2 id="安装系统最后一步" tabindex="-1">安装系统最后一步 <a class="header-anchor" href="#安装系统最后一步" aria-label="Permalink to &quot;安装系统最后一步&quot;">​</a></h2><p><code>exit</code><br><code>umount -a</code><br><code>reboot</code></p><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p><code>systemctl enable --now NetworkManager</code><br><code>nmtui</code><br><code>useradd -m -G wheel jing</code><br><code>passwd jing</code><br><code>pacman -S xf86-video-amdgpu</code><br><code>pacman -S nvidia nvidia-utils</code></p><h2 id="配置display-server" tabindex="-1">配置display server <a class="header-anchor" href="#配置display-server" aria-label="Permalink to &quot;配置display server&quot;">​</a></h2><p><code>pacman -S xorg</code><br><code>pacman -S gdm</code><br><code>systemctl enable gdm</code></p><h2 id="安装字体" tabindex="-1">安装字体 <a class="header-anchor" href="#安装字体" aria-label="Permalink to &quot;安装字体&quot;">​</a></h2><p><code>pacman -S ttf-sarasa-gothic noto-fonts-cjk</code></p>`,33),h=[d];function n(l,r,o,c,p,k){return e(),s("div",null,h)}const g=a(t,[["render",n]]);export{b as __pageData,g as default};
